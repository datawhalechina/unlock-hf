---
comments: true
title: ç¯å¢ƒé…ç½®
---

![miniconda3](./imgs/miniconda.png)

## å®‰è£… Anaconda/Miniconda

### ä¸‹è½½ Miniconda

å„å¤§æ“ä½œç³»ç»Ÿæœ€æ–°ç‰ˆæœ¬çš„ Minconda éƒ½å¯ä»¥åœ¨ä¸‹æ–¹ç½‘å€è¿›è¡Œä¸‹è½½ï¼š

[Miniconda â€” Anaconda documentation](https://docs.anaconda.com/free/miniconda/index.html#latest-miniconda-installer-links){.md-button}

æ³¨æ„ï¼šé€‰æ‹©ä¸‹è½½çš„ Miniconda3 ç‰ˆæœ¬éœ€è¦å’Œç”µè„‘å¤„ç†å™¨çš„æ¶æ„å»åˆã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œåœ¨æ­¤ä¸‹æ–¹ç›´æ¥æä¾›å„å¤§æ“ä½œç³»ç»Ÿæ¨èçš„ä¸‹è½½é“¾æ¥ã€‚

| ç³»ç»Ÿ | ä¸‹è½½åœ°å€ |
| :---: | --- |
| Windows | <https://repo.anaconda.com/miniconda/Miniconda3-latest-Windows-x86_64.exe> |
| macOSï¼ˆIntelï¼‰ | <https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-x86_64.sh> |
| macOSï¼ˆM/ARMï¼‰ | <https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-arm64.sh> |
| Linuxï¼ˆx64ï¼‰ | <https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh> |
| Linuxï¼ˆARMï¼‰ | <https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-aarch64.sh> |

### å®‰è£… Miniconda

ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«ä»‹ç»åœ¨ Windows ç³»ç»Ÿå’Œ Linux ç³»ç»Ÿä¸‹çš„å®‰è£…æµç¨‹ã€‚

#### Windows ç³»ç»Ÿå®‰è£… Miniconda

- è¿è¡Œä¸‹è½½å¥½çš„å®‰è£…åŒ…

  ![miniconda_setting](./imgs/miniconda_setting.png){ width="600" }

- ä¸€è·¯nextå’Œagreeï¼Œç›´åˆ°é€‰æ‹©è·¯å¾„ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±åå¥½é€‰æ‹©è·¯å¾„ï¼Œè¿™é‡Œé€‰æ‹©é»˜è®¤ã€‚

![destination_folder](./imgs/destination_folder.png){ width="600" }

- ä¿æŒé»˜è®¤é…ç½®å³å¯ï¼Œä¸‹ä¸€æ­¥ã€‚

![installation_options](./imgs/installation_options.png){ width="600" }

- å®Œæˆï¼Œä»¥åä½¿ç”¨`conda` ä»å¼€å§‹èœå•ç‚¹å¼€å³å¯ã€‚

![conda_launcher](./imgs/conda_launcher.png){ width="600" }

#### Linux ç³»ç»Ÿå®‰è£… Miniconda

ä¸‹è½½å¥½çš„å®‰è£…æ–‡ä»¶æ”¾åœ¨ Downloads æ–‡ä»¶ä¸­

![gnome_file_exploer](./imgs/gnome_file_exploer.png){ width="600" }

åœ¨`Miniconda3`æ‰€åœ¨æ–‡ä»¶å¤¹ä¸‹æ‰“å¼€ç»ˆç«¯

- ä¸ºæ–‡ä»¶æ·»åŠ æ‰§è¡Œæƒé™ï¼ˆæ–‡ä»¶åç§°è¦å’Œè‡ªå·±ä¸‹è½½çš„ç‰ˆæœ¬ä¸€è‡´ï¼‰å‘½ä»¤æ˜¯ï¼š`chmod a+x ./Miniconda3-latest-Linux-x86_64.sh`

![gnome_shell](./imgs/gnome_shell.png){ width="600" }

- è¿è¡Œå®‰è£…ç¨‹åºå‘½ä»¤ï¼Œå‘½ä»¤æ˜¯`sh ./Miniconda3-latest-Linux-x86_64.sh` ï¼Œç„¶åæ ¹æ®æç¤ºå›è½¦ã€‚

![license](./imgs/license.png){ width="600" }

- è¿™é‡Œä¼šè®©é˜…è¯»ç›¸å…³åè®®ï¼Œç›´æ¥æŒ‰`q` ç»“æŸé˜…è¯»ï¼Œè¾“å…¥`yes`ï¼Œç„¶åå›è½¦ã€‚

![more](./imgs/more.png){ width="600" }

![accept_license](./imgs/accept_license.png){ width="600" }

```bash
- Press ENTER to confirm the location
- Press CTRL-C to abort the installation
- Or specify a different location below
```

- åœ¨è¿™é‡Œç¨‹åºæç¤ºä»¥ä¸‹ä¿¡æ¯ï¼Œè¿™é‡Œæœ‰ä¸‰ç§é€‰æ‹©ï¼Œåˆ†åˆ«æ˜¯:
    1. å›è½¦ä½¿ç”¨é»˜è®¤è·¯å¾„`\home\user\miniconda3`
    2. ä½¿ç”¨`ctrl c` ç»ˆæ­¢ç¨‹åº
    3. ç”¨æˆ·è‡ªå®šä¹‰è·¯å¾„

ç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦é€‰æ‹©å®‰è£…ç›®å½•ã€‚

![conda_init](./imgs/conda_init.png){ width="600" }

- ç¨‹åºç»è¿‡å®‰è£…åä¼šè¯¢é—®æ˜¯å¦æ¯æ¬¡å¯åŠ¨ç»ˆç«¯æ˜¯å¦è‡ªåŠ¨å¯åŠ¨`conda`ã€‚è¾“å…¥`yes`ç„¶åå›è½¦ã€‚

![conda_inited](./imgs/conda_inited.png){ width="600" }

- æ ¹æ®æç¤ºé‡å¯ç»ˆç«¯ï¼Œå†æ¬¡æ‰“å¼€å°±ä¼šå‡ºç°`(base)` ã€‚ä»¥åå°±åœ¨ç»ˆç«¯æ“ä½œ`conda`ã€‚

![base](./imgs/base.png){ width="600" }

## æ¢æº

åœ¨å®‰è£…packageæ—¶ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨`pip install package_name`å’Œ`conda install package_name`çš„å‘½ä»¤ï¼Œä½†æ˜¯ä¸€äº›packageä¸‹è½½é€Ÿåº¦ä¼šå¾ˆæ…¢ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è¿›è¡Œæ¢æºï¼Œæ¢æˆå›½å†…æºï¼ŒåŠ å¿«æˆ‘ä»¬çš„ä¸‹è½½é€Ÿåº¦ã€‚ä»¥ä¸‹ä¾¿æ˜¯ä¸¤ç§å¯¹åº”æ–¹å¼çš„æ¢æºã€‚

å¦‚æœæˆ‘ä»¬ä»…ä»…æƒ³ä¸ºå•æ¬¡ä¸‹è½½æ¢æºå¯ä»¥ä½¿ç”¨`pip install package_name -i https://pypi.tuna.tsinghua.edu.cn/simple`è¿›è¡Œä¸‹è½½ã€‚

### Windows ç³»ç»Ÿæ¢æº

#### `pip`æ¢æº

- æ–‡ä»¶ç®¡ç†å™¨æ–‡ä»¶è·¯å¾„åœ°å€æ æ•²ï¼š`%APPDATA%`Â å›è½¦ï¼Œå¿«é€Ÿè¿›å…¥Â `C:\Users\User\AppData\Roaming`Â æ–‡ä»¶å¤¹ã€‚

![APPDATA](./imgs/APPDATA.png){ width="600" }

- æ–°å»º pip æ–‡ä»¶å¤¹å¹¶åœ¨æ–‡ä»¶å¤¹ä¸­æ–°å»ºÂ `pip.ini`Â é…ç½®æ–‡ä»¶ã€‚

![new_pipini](./imgs/new_pipini.png){ width="600" }

- ä½¿ç”¨è®°äº‹æœ¬æ‰“å¼€ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼Œå¹¶æŒ‰ä¸‹`ctrl+s`ä¿å­˜ã€‚

``` title='pip.ini'
[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
[install]
use-mirrors =true
mirrors = https://pypi.tuna.tsinghua.edu.cn/simple/
trusted-host = pypi.tuna.tsinghua.edu.cn
```

![win_pipini](./imgs/win_pipini.png){ width="600" }

#### `conda`æ¢æº

æˆ‘ä»¬éœ€è¦åœ¨`.condarc`æ–‡ä»¶å†…è¿›è¡Œæ¢æºï¼Œä½†æ˜¯Windows ç”¨æˆ·æ— æ³•ç›´æ¥åˆ›å»ºåä¸ºÂ `.condarc`Â çš„æ–‡ä»¶ï¼Œå¯å…ˆæ‰§è¡Œ`condaÂ configÂ --setÂ show_channel_urlsÂ yes`ç”Ÿæˆè¯¥æ–‡ä»¶ä¹‹åå†ä¿®æ”¹ã€‚

- æ‰§è¡Œå®Œ`condaÂ configÂ --setÂ show_channel_urlsÂ yes`åä¼šåœ¨ç”¨æˆ·æ–‡ä»¶å¤¹æ‰¾åˆ°`.condarc` æ–‡ä»¶ã€‚

![condarc](./imgs/condarc.png){ width="600" }

- ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ï¼Œæ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ã€‚

```txt title='.condarc'
channels:
  - defaults
show_channel_urls: true
default_channels:
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2
custom_channels:
  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
auto_activate_base: false
```

### Linux ç³»ç»Ÿæ¢æº

å‰æƒ…æç¤ºï¼šåœ¨`vim`ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è¾“å…¥`i`è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå°†å†…å®¹ç²˜è´´è¿›å»ï¼ŒæŒ‰`ESC`é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥`:wq`ä¿å­˜å¹¶é€€å‡ºã€‚

#### `pip`æ¢æº

åœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤

```bash
cd ~
mkdir .pip/
cd .pip
vim pip.conf
```

åœ¨è¿™ä¸ª`pip.conf`æ–‡ä»¶ä¸‹åº”è¯¥ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼Œç›´æ¥å¤åˆ¶ç²˜è´´åˆ°æ–‡ä»¶å†…å³å¯ï¼Œç„¶åç»“æŸç¼–è¾‘ã€‚

```bash title='pip.conf'
[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
[install]
use-mirrors =true
mirrors = https://pypi.tuna.tsinghua.edu.cn/simple/
trusted-host = pypi.tuna.tsinghua.edu.cn
```

#### `conda`æ¢æº

åœ¨ç»ˆç«¯æ‰§â¾ä»¥ä¸‹å‘½ä»¤

```bash
cd ~
vim .condarc
```

åœ¨`.condarc` æ–‡ä»¶å†…åº”è¯¥ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼Œç›´æ¥å¤åˆ¶ç²˜è´´åˆ°æ–‡ä»¶å†…å³å¯ã€‚ç„¶åç»“æŸç¼–è¾‘

```txt title='.condarc'
channels:
  - defaults
show_channel_urls: true
default_channels:
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2
custom_channels:
  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
auto_activate_base: false
```

æœ€åä½¿ç”¨`condaÂ cleanÂ -i`Â æ¸…é™¤ç´¢å¼•ç¼“å­˜ã€‚

## `conda`/`pip`çš„ä½¿ç”¨

- æŸ¥çœ‹ç°æœ‰è™šæ‹Ÿç¯å¢ƒï¼š`conda env list`
- åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š`conda create -n env_name python=version`
  - `create`ï¼š åˆ›å»ºç¯å¢ƒå‘½ä»¤
  - `n`ï¼š`-name` ç¼©å†™ï¼Œåé¢ç´§æ¥ç€æ˜¯è™šæ‹Ÿç¯å¢ƒåç§°
  - `env_name`ï¼šè™šæ‹Ÿç¯å¢ƒåç§°ï¼šè§åçŸ¥æ„ï¼Œå¯ä»¥æ ¹æ®å®é™…éœ€æ±‚æ›´æ”¹
  - `version` ï¼šPythonç‰ˆæœ¬ï¼Œä¾‹å¦‚3.8ï¼Œä»¥ä¸‹æ˜¯å…·ä½“ç¤ºä¾‹

![conda_create_env](./imgs/conda_create_env.png){ width="600" }

- æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š`conda activate env_name` ï¼Œæ¿€æ´»è™šæ‹Ÿç¯å¢ƒåï¼Œç»ˆç«¯å°†ä¼šåœ¨æ‹¬å·å†…æ˜¾ç¤ºå½“å‰ç¯å¢ƒåç§°ã€‚

![conda_activate_env](./imgs/conda_activate_env.png){ width="600" }

- å®‰è£…åŒ…ï¼š`conda install package_name`æˆ–è€…`pip install package_name`
- `pip`åœ¨å®‰è£…åŒ…æ—¶ä¸´æ—¶æ›´æ¢é•œåƒæºï¼š`pip install package_name -i https://pypi.tuna.tsinghua.edu.cn/simple`
- å¸è½½åŒ…ï¼š`conda remove package_name`æˆ–è€…`pip uninstall package_name`
- æ˜¾ç¤ºæ‰€æœ‰å®‰è£…çš„åŒ…ï¼š`conda list`
- åˆ é™¤æŒ‡å®šè™šæ‹Ÿç¯å¢ƒï¼š`conda remove -n env_name --all`
- é€€å‡ºå½“å‰ç¯å¢ƒï¼š`conda deactivate`

æ›´å¤šçš„`conda`å‘½ä»¤å‚è€ƒå®˜ç½‘ã€‚

[Commands â€” conda 24.3.1.dev30 documentation](https://docs.conda.io/projects/conda/en/latest/commands/index.html){.md-button}

## å®‰è£…å‡½æ•°åº“

???+ warning
    ğŸ’¯ å½“ä½ æƒ³åœ¨è™šæ‹Ÿç¯å¢ƒå®‰è£…åŒ…çš„æ—¶å€™ï¼Œç¡®è®¤ä½ æ­£å¤„åœ¨æ­£ç¡®çš„è™šæ‹Ÿç¯å¢ƒä¸­ï¼ï¼

```bash title='pip/conda'
pip install numpy pandas matplotlib transformers datasets peft evaluate diffusers gradio torch jupyterlab
```

## å‚è€ƒ

<div class="grid cards" markdown>

- Datawhale å¼€æº PyTorch æ•™ç¨‹

    ---

    [æ·±å…¥æµ…å‡º `PyTorch`](https://datawhalechina.github.io/thorough-pytorch/)

- Miniconda å®˜æ–¹æ–‡æ¡£

	---

	[Miniconda documentation](https://docs.anaconda.com/free/miniconda/index.html#latest-miniconda-installer-links)

</div>
